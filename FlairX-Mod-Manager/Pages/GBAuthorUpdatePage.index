COMPONENT: GBAuthorUpdatePage
DESCRIPTION: Page for updating mod authors from GameBanana with multiple update modes

================================================================================
FILE: Pages/GBAuthorUpdatePage.xaml
TOTAL LINES: 44

LINE RANGES:
├── Page Declaration: lines 1-11
│   ├── Class definition: line 2
│   ├── Namespace declarations: lines 3-8
│   └── Design properties: lines 9-11
├── Main Grid: lines 12-43
│   ├── StackPanel container: lines 13-42
│   │   ├── Settings Grid: lines 14-30
│   │   │   ├── Grid definitions: lines 15-23
│   │   │   ├── Update Authors setting: lines 24-25
│   │   │   ├── Smart Update setting: lines 26-27
│   │   │   └── Safety Lock setting: lines 28-29
│   │   └── Control Panel: lines 31-41
│   │       ├── Update Button: lines 32-38
│   │       │   ├── Button icons: lines 34-36
│   │       │   └── Button text: line 37
│   │       └── Progress Bar: line 39

UI ELEMENTS:
- UpdateAuthorsLabel: line 24 - Full update mode label
- UpdateAuthorsSwitch: line 25 - Full update toggle
- SmartUpdateLabel: line 26 - Smart update mode label  
- SmartUpdateSwitch: line 27 - Smart update toggle
- SafetyLockLabel: line 28 - Safety lock label
- SafetyLockSwitch: line 29 - Safety lock toggle
- UpdateButton: lines 32-38 - Main action button
- UpdateIcon: line 34 - Update icon (&#xE753;)
- CancelIcon: line 35 - Cancel icon (&#xE711;)
- UpdateButtonText: line 37 - Dynamic button text
- UpdateProgressBar: line 39 - Progress indicator

================================================================================
FILE: Pages/GBAuthorUpdatePage.xaml.cs
TOTAL LINES: 519

LINE RANGES:
├── Using statements: lines 1-11
├── Namespace declaration: lines 13-14
├── GBAuthorUpdatePage class: lines 15-519
│   ├── Static fields: lines 16-29
│   │   ├── HttpClient: line 16
│   │   ├── Regex patterns: lines 19-26
│   │   └── JSON-LD pattern: line 28
│   ├── UpdateTexts method: lines 31-40
│   ├── Progress reporting: lines 42-51
│   ├── Constructor: lines 53-64
│   ├── Destructor: lines 66-69
│   ├── Progress handling: lines 71-75
│   ├── Thread-safe properties: lines 77-115
│   │   ├── Static counters: lines 77-81
│   │   ├── IsUpdatingAuthors: lines 83-87
│   │   ├── ProgressValue: lines 89-93
│   │   └── Safe increment methods: lines 95-115
│   ├── Button click handlers: lines 117-207
│   │   ├── UpdateButton_Click: lines 117-126
│   │   ├── UpdateButtonClickAsync: lines 128-177
│   │   ├── SetButtonToCancelState: lines 179-187
│   │   └── ResetButtonToUpdateState: lines 189-207
│   ├── UpdateAuthorsAsync: lines 209-407
│   │   ├── Setup and validation: lines 209-225
│   │   ├── Main processing loop: lines 227-340
│   │   │   ├── Cancellation check: lines 229-240
│   │   │   ├── Mod validation: lines 241-250
│   │   │   ├── URL validation: lines 251-270
│   │   │   ├── Author fetching: lines 271-340
│   │   │   └── Progress update: lines 341-345
│   │   └── Summary dialog: lines 347-407
│   ├── HTML processing: lines 409-440
│   │   ├── FetchHtml: lines 409-415
│   │   └── GetAuthorFromHtml: lines 417-440
│   ├── UI updates: lines 442-470
│   │   └── UpdateProgressBarUI: lines 442-470
│   ├── Navigation handlers: lines 472-485
│   │   ├── OnNavigatedTo: lines 472-480
│   │   └── OnNavigatedFrom: lines 482-485
│   ├── Update mode management: lines 487-519
│   │   ├── UpdateMode enum: lines 487-488
│   │   ├── Mode properties: lines 489-493
│   │   ├── UpdateAuthorsSwitch_Toggled: lines 495-505
│   │   └── SmartUpdateSwitch_Toggled: lines 507-519

================================================================================
COMPONENT OVERVIEW

KEY METHODS:
- Constructor: lines 53-64 - Initialize UI and event handlers
- UpdateButtonClickAsync: lines 128-177 - Main update logic with safety checks
- UpdateAuthorsAsync: lines 209-407 - Process all mods with progress tracking
- GetAuthorFromHtml: lines 417-440 - Extract author from HTML using regex patterns
- UpdateProgressBarUI: lines 442-470 - Update progress display and button states

UPDATE MODES:
- Full Update: Updates all mods regardless of current author
- Smart Update: Only updates mods with empty/unknown authors
- Safety Lock: Prevents accidental execution (must be enabled)

FUNCTIONALITY:
- Toggle between Full and Smart update modes (mutually exclusive)
- Safety lock prevents accidental updates
- Progress bar shows real-time update status
- Button switches between Update/Cancel states
- Fetches author information from GameBanana URLs
- Updates mod.json files with discovered authors
- Comprehensive error handling and user feedback

LAYOUT:
- 3-column grid for settings (300px + 32px + 44px)
- Toggle switches aligned to right column
- Button and progress bar in horizontal stack
- Proper spacing and margins throughout

THREAD SAFETY:
- Static lock object for thread-safe operations
- Volatile fields for cross-thread access
- Safe increment methods for counters
- Progress reporting with proper synchronization
- Thread-safe collections for tracking results

REGEX PATTERNS:
- Multiple compiled patterns for author extraction from HTML
- JSON-LD structured data parsing with fallback
- Optimized for GameBanana page structure variations
- Error handling for malformed HTML/JSON

CANCELLATION:
- CancellationTokenSource for operation cancellation
- Proper cleanup on cancellation
- User feedback dialogs for cancel operations
- Graceful handling of interrupted operations

WEB SCRAPING:
- HttpClient with 30-second timeout
- User-Agent header for proper web scraping
- HTML parsing for author extraction
- Multiple fallback patterns for robustness
- Network error handling and retry logic

SECURITY:
- Path validation for mod directory names
- Safe JSON deserialization
- Input validation for URLs
- Proper file handling with error recovery

PROGRESS TRACKING:
- Real-time progress updates during processing
- Success/failure/skip counters
- Detailed summary with scrollable results
- User-friendly error messages with translations
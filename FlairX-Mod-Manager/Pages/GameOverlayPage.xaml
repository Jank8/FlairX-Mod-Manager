<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="FlairX_Mod_Manager.Pages.GameOverlayPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:FlairX_Mod_Manager.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="Transparent">

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Padding="24">
        <Grid HorizontalAlignment="Stretch">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="8*" MaxWidth="1000"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="1" Spacing="0" HorizontalAlignment="Stretch">
            
            <!-- Appearance Section -->
            <TextBlock x:Name="AppearanceSectionHeader" Text="Appearance" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,12"/>
            
            <!-- Theme Setting -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE790;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="ThemeLabel" Text="Theme" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="ThemeDescription" Text="Overlay color theme" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                
                    <SelectorBar Grid.Column="3" x:Name="ThemeSelectorBar" SelectionChanged="ThemeSelectorBar_SelectionChanged" VerticalAlignment="Center">
                        <SelectorBarItem x:Name="ThemeSelectorAuto" Tag="Auto" Margin="0,0,8,0">
                            <StackPanel Orientation="Horizontal" Spacing="6" Margin="8,4,8,4">
                                <FontIcon Glyph="&#xE890;" FontSize="16"/>
                                <TextBlock x:Name="ThemeAutoText" Text="Auto" VerticalAlignment="Center"/>
                            </StackPanel>
                        </SelectorBarItem>
                        <SelectorBarItem x:Name="ThemeSelectorLight" Tag="Light" Margin="4,0,4,0">
                            <StackPanel Orientation="Horizontal" Spacing="6" Margin="8,4,8,4">
                                <FontIcon Glyph="&#xE706;" FontSize="16"/>
                                <TextBlock x:Name="ThemeLightText" Text="Light" VerticalAlignment="Center"/>
                            </StackPanel>
                        </SelectorBarItem>
                        <SelectorBarItem x:Name="ThemeSelectorDark" Tag="Dark">
                            <StackPanel Orientation="Horizontal" Spacing="6" Margin="8,4,8,4">
                                <FontIcon Glyph="&#xE708;" FontSize="16"/>
                                <TextBlock x:Name="ThemeDarkText" Text="Dark" VerticalAlignment="Center"/>
                            </StackPanel>
                        </SelectorBarItem>
                    </SelectorBar>
                </Grid>
            </Border>
            
            <!-- Backdrop Setting -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,24">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xF4A5;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="BackdropLabel" Text="Backdrop" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="BackdropDescription" Text="Window background effect" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                
                    <SelectorBar Grid.Column="3" x:Name="BackdropSelectorBar" SelectionChanged="BackdropSelectorBar_SelectionChanged" VerticalAlignment="Center">
                        <SelectorBarItem x:Name="BackdropSelectorMica" Tag="Mica" Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal" Spacing="6" Margin="8,4,8,4">
                                <FontIcon Glyph="&#xF4A5;" FontSize="16"/>
                                <TextBlock Text="Mica" VerticalAlignment="Center"/>
                            </StackPanel>
                        </SelectorBarItem>
                        <SelectorBarItem x:Name="BackdropSelectorMicaAlt" Tag="MicaAlt" Margin="4,0,4,0">
                            <StackPanel Orientation="Horizontal" Spacing="6" Margin="8,4,8,4">
                                <FontIcon Glyph="&#xF4A5;" FontSize="16"/>
                                <TextBlock Text="MicaAlt" VerticalAlignment="Center"/>
                            </StackPanel>
                        </SelectorBarItem>
                        <SelectorBarItem x:Name="BackdropSelectorAcrylic" Tag="Acrylic" Margin="4,0,4,0">
                            <StackPanel Orientation="Horizontal" Spacing="6" Margin="8,4,8,4">
                                <FontIcon Glyph="&#xF4A5;" FontSize="16"/>
                                <TextBlock Text="Acrylic" VerticalAlignment="Center"/>
                            </StackPanel>
                        </SelectorBarItem>
                        <SelectorBarItem x:Name="BackdropSelectorAcrylicThin" Tag="AcrylicThin" Margin="4,0,4,0">
                            <StackPanel Orientation="Horizontal" Spacing="6" Margin="8,4,8,4">
                                <FontIcon Glyph="&#xF4A5;" FontSize="16"/>
                                <TextBlock x:Name="BackdropThinText" Text="Thin" VerticalAlignment="Center"/>
                            </StackPanel>
                        </SelectorBarItem>
                        <SelectorBarItem x:Name="BackdropSelectorNone" Tag="None">
                            <StackPanel Orientation="Horizontal" Spacing="6" Margin="8,4,8,4">
                                <FontIcon Glyph="&#xF4A5;" FontSize="16"/>
                                <TextBlock x:Name="BackdropNoneText" Text="None" VerticalAlignment="Center"/>
                            </StackPanel>
                        </SelectorBarItem>
                    </SelectorBar>
                </Grid>
            </Border>
            
            <!-- Preview Section -->
            <TextBlock x:Name="PreviewSectionHeader" Text="Preview" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,12"/>
            
            <!-- Test Button -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,24">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE768;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="TestOverlayLabel" Text="Test Overlay" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="TestOverlayDescription" Text="Open overlay window to preview" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <Button Grid.Column="3" x:Name="TestOverlayButton" Click="TestOverlayButton_Click" VerticalAlignment="Center" Style="{StaticResource AccentButtonStyle}">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE7B3;" FontSize="16"/>
                            <TextBlock x:Name="OpenOverlayButtonText" Text="Open Overlay"/>
                        </StackPanel>
                    </Button>
                </Grid>
            </Border>
            
            <!-- Controls Section -->
            <TextBlock x:Name="ControlsSectionHeader" Text="Controls" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,12"/>
            
            <!-- Hotkey -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16,0,16,0"
                    Height="60"
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="20"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel x:Name="OverlayHotkeyKeysPanel" Grid.Column="0" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center"/>
                    
                    <TextBlock x:Name="OverlayHotkeyLabel" Grid.Column="2" Text="Toggle Hotkey" FontSize="14" VerticalAlignment="Center" Opacity="0.9"/>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" Spacing="4" VerticalAlignment="Center">
                        <Border x:Name="OverlayHotkeyEditButton" Width="32" Height="32" CornerRadius="6" Background="Transparent" 
                                PointerPressed="OverlayHotkeyEditButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited">
                            <FontIcon Glyph="&#xE70F;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="OverlayHotkeySaveButton" Width="32" Height="32" CornerRadius="6" Background="Transparent" Visibility="Collapsed"
                                PointerPressed="OverlayHotkeySaveButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited">
                            <FontIcon Glyph="&#xE73E;" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="OverlayHotkeyRestoreButton" Width="32" Height="32" CornerRadius="6" Background="Transparent" 
                                PointerPressed="OverlayHotkeyRestoreButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited">
                            <FontIcon Glyph="&#xE777;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Filter Active Hotkey -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16,0,16,0"
                    Height="60"
                    Margin="0,0,0,24">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="20"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel x:Name="FilterActiveHotkeyKeysPanel" Grid.Column="0" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center"/>
                    
                    <TextBlock x:Name="FilterActiveHotkeyLabel" Grid.Column="2" Text="Filter Active Hotkey" FontSize="14" VerticalAlignment="Center" Opacity="0.9"/>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" Spacing="4" VerticalAlignment="Center">
                        <Border x:Name="FilterActiveHotkeyEditButton" Width="32" Height="32" CornerRadius="6" Background="Transparent" 
                                PointerPressed="FilterActiveHotkeyEditButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited">
                            <FontIcon Glyph="&#xE70F;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="FilterActiveHotkeySaveButton" Width="32" Height="32" CornerRadius="6" Background="Transparent" Visibility="Collapsed"
                                PointerPressed="FilterActiveHotkeySaveButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited">
                            <FontIcon Glyph="&#xE73E;" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="FilterActiveHotkeyRestoreButton" Width="32" Height="32" CornerRadius="6" Background="Transparent" 
                                PointerPressed="FilterActiveHotkeyRestoreButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited">
                            <FontIcon Glyph="&#xE777;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Send F10 on Overlay Close -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,24">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE72C;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="SendF10OnOverlayCloseLabel" Text="Send F10 on close" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="SendF10OnOverlayCloseDescription" Text="Automatically send F10 to reload mods when overlay closes" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <ToggleSwitch Grid.Column="3" x:Name="SendF10OnOverlayCloseToggle" Toggled="SendF10OnOverlayCloseToggle_Toggled" VerticalAlignment="Center"/>
                </Grid>
            </Border>
            
            <!-- Gamepad Section -->
            <TextBlock x:Name="GamepadSectionHeader" Text="Gamepad (XInput)" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,12"/>
            
            <!-- Gamepad Enable -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE7FC;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="GamepadEnabledLabel" Text="Enable Gamepad" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="GamepadEnabledDescription" Text="Use Xbox controller to navigate overlay" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <ToggleSwitch Grid.Column="3" x:Name="GamepadEnabledToggle" Toggled="GamepadEnabledToggle_Toggled" VerticalAlignment="Center"/>
                </Grid>
            </Border>
            
            <!-- Use Left Stick -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xF108;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="UseLeftStickLabel" Text="Use Left Stick" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="UseLeftStickDescription" Text="Navigate with left analog stick instead of D-Pad" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <ToggleSwitch Grid.Column="3" x:Name="UseLeftStickToggle" Toggled="UseLeftStickToggle_Toggled" VerticalAlignment="Center"/>
                </Grid>
            </Border>
            
            <!-- Vibrate on Navigation -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE877;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="VibrateOnNavLabel" Text="Vibrate on Navigation" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="VibrateOnNavDescription" Text="Haptic feedback when moving through mods" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <ToggleSwitch Grid.Column="3" x:Name="VibrateOnNavToggle" Toggled="VibrateOnNavToggle_Toggled" VerticalAlignment="Center"/>
                </Grid>
            </Border>
            
            <!-- Gamepad Status -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" x:Name="GamepadStatusIcon" Glyph="&#xE836;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="GamepadStatusLabel" Text="Controller Status" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="GamepadStatusText" Text="Not connected" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <Button Grid.Column="3" x:Name="GamepadTestButton" Click="GamepadTestButton_Click" VerticalAlignment="Center">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE768;" FontSize="16"/>
                            <TextBlock x:Name="TestButtonText" Text="Test"/>
                        </StackPanel>
                    </Button>
                </Grid>
            </Border>
            
            <!-- Gamepad Hotkeys Section -->
            <TextBlock x:Name="GamepadHotkeysSectionHeader" Text="Gamepad Hotkeys" FontSize="20" FontWeight="SemiBold" Margin="0,22,0,12"/>
            
            <!-- Select/Toggle Button -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16,0,16,0"
                    Height="60"
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="20"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel x:Name="SelectButtonKeysPanel" Grid.Column="0" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center"/>
                    
                    <TextBlock x:Name="SelectButtonLabel" Grid.Column="2" Text="Select / Toggle Mod" FontSize="14" VerticalAlignment="Center" Opacity="0.9"/>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" Spacing="4" VerticalAlignment="Center">
                        <Border x:Name="SelectButtonRecordButton" Width="32" Height="32" CornerRadius="6" Background="Transparent"
                                PointerPressed="SelectButtonRecordButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Record button">
                            <FontIcon Glyph="&#xE7C8;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="SelectButtonSaveButton" Width="32" Height="32" CornerRadius="6" Background="Transparent" Visibility="Collapsed"
                                PointerPressed="SelectButtonSaveButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Save">
                            <FontIcon Glyph="&#xE73E;" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="SelectButtonRestoreButton" Width="32" Height="32" CornerRadius="6" Background="Transparent"
                                PointerPressed="SelectButtonRestoreButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Restore default">
                            <FontIcon Glyph="&#xE777;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Back/Close Button -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16,0,16,0"
                    Height="60"
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="20"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel x:Name="BackButtonKeysPanel" Grid.Column="0" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center"/>
                    
                    <TextBlock x:Name="BackButtonLabel" Grid.Column="2" Text="Back / Close Overlay" FontSize="14" VerticalAlignment="Center" Opacity="0.9"/>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" Spacing="4" VerticalAlignment="Center">
                        <Border x:Name="BackButtonRecordButton" Width="32" Height="32" CornerRadius="6" Background="Transparent"
                                PointerPressed="BackButtonRecordButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Record button">
                            <FontIcon Glyph="&#xE7C8;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="BackButtonSaveButton" Width="32" Height="32" CornerRadius="6" Background="Transparent" Visibility="Collapsed"
                                PointerPressed="BackButtonSaveButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Save">
                            <FontIcon Glyph="&#xE73E;" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="BackButtonRestoreButton" Width="32" Height="32" CornerRadius="6" Background="Transparent"
                                PointerPressed="BackButtonRestoreButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Restore default">
                            <FontIcon Glyph="&#xE777;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Next Category Button -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16,0,16,0"
                    Height="60"
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="20"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel x:Name="NextCategoryButtonKeysPanel" Grid.Column="0" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center"/>
                    
                    <TextBlock x:Name="NextCategoryButtonLabel" Grid.Column="2" Text="Next Category" FontSize="14" VerticalAlignment="Center" Opacity="0.9"/>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" Spacing="4" VerticalAlignment="Center">
                        <Border x:Name="NextCategoryButtonRecordButton" Width="32" Height="32" CornerRadius="6" Background="Transparent"
                                PointerPressed="NextCategoryButtonRecordButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Record button">
                            <FontIcon Glyph="&#xE7C8;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="NextCategoryButtonSaveButton" Width="32" Height="32" CornerRadius="6" Background="Transparent" Visibility="Collapsed"
                                PointerPressed="NextCategoryButtonSaveButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Save">
                            <FontIcon Glyph="&#xE73E;" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="NextCategoryButtonRestoreButton" Width="32" Height="32" CornerRadius="6" Background="Transparent"
                                PointerPressed="NextCategoryButtonRestoreButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Restore default">
                            <FontIcon Glyph="&#xE777;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Previous Category Button -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16,0,16,0"
                    Height="60"
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="20"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel x:Name="PrevCategoryButtonKeysPanel" Grid.Column="0" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center"/>
                    
                    <TextBlock x:Name="PrevCategoryButtonLabel" Grid.Column="2" Text="Previous Category" FontSize="14" VerticalAlignment="Center" Opacity="0.9"/>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" Spacing="4" VerticalAlignment="Center">
                        <Border x:Name="PrevCategoryButtonRecordButton" Width="32" Height="32" CornerRadius="6" Background="Transparent"
                                PointerPressed="PrevCategoryButtonRecordButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Record button">
                            <FontIcon Glyph="&#xE7C8;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="PrevCategoryButtonSaveButton" Width="32" Height="32" CornerRadius="6" Background="Transparent" Visibility="Collapsed"
                                PointerPressed="PrevCategoryButtonSaveButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Save">
                            <FontIcon Glyph="&#xE73E;" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="PrevCategoryButtonRestoreButton" Width="32" Height="32" CornerRadius="6" Background="Transparent"
                                PointerPressed="PrevCategoryButtonRestoreButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Restore default">
                            <FontIcon Glyph="&#xE777;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Toggle Overlay Combo -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16,0,16,0"
                    Height="60"
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="20"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel x:Name="GamepadComboKeysPanel" Grid.Column="0" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center"/>
                    
                    <TextBlock x:Name="GamepadComboLabel" Grid.Column="2" Text="Toggle Overlay Combo" FontSize="14" VerticalAlignment="Center" Opacity="0.9"/>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" Spacing="4" VerticalAlignment="Center">
                        <Border x:Name="GamepadComboRecordButton" Width="32" Height="32" CornerRadius="6" Background="Transparent"
                                PointerPressed="GamepadComboRecordButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Record combo">
                            <FontIcon Glyph="&#xE7C8;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="GamepadComboSaveButton" Width="32" Height="32" CornerRadius="6" Background="Transparent" Visibility="Collapsed"
                                PointerPressed="GamepadComboSaveButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Save">
                            <FontIcon Glyph="&#xE73E;" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="GamepadComboRestoreButton" Width="32" Height="32" CornerRadius="6" Background="Transparent"
                                PointerPressed="GamepadComboRestoreButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Restore default">
                            <FontIcon Glyph="&#xE777;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Filter Active Combo -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16,0,16,0"
                    Height="60"
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="20"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel x:Name="FilterActiveComboKeysPanel" Grid.Column="0" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center"/>
                    
                    <TextBlock x:Name="FilterActiveComboLabel" Grid.Column="2" Text="Filter Active Combo" FontSize="14" VerticalAlignment="Center" Opacity="0.9"/>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" Spacing="4" VerticalAlignment="Center">
                        <Border x:Name="FilterActiveComboRecordButton" Width="32" Height="32" CornerRadius="6" Background="Transparent"
                                PointerPressed="FilterActiveComboRecordButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Record combo">
                            <FontIcon Glyph="&#xE7C8;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="FilterActiveComboSaveButton" Width="32" Height="32" CornerRadius="6" Background="Transparent" Visibility="Collapsed"
                                PointerPressed="FilterActiveComboSaveButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Save">
                            <FontIcon Glyph="&#xE73E;" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="FilterActiveComboRestoreButton" Width="32" Height="32" CornerRadius="6" Background="Transparent"
                                PointerPressed="FilterActiveComboRestoreButton_PointerPressed" PointerEntered="HotkeyActionButton_PointerEntered" PointerExited="HotkeyActionButton_PointerExited"
                                ToolTipService.ToolTip="Restore default">
                            <FontIcon Glyph="&#xE777;" FontSize="16" Foreground="Gray" Opacity="0.6" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </StackPanel>
                </Grid>
            </Border>
            
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Page>

<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="FlairX_Mod_Manager.Pages.ImageOptimizerPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="Transparent">

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Padding="24">
        <Grid HorizontalAlignment="Stretch">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="8*" MaxWidth="1000"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="1" Spacing="0" HorizontalAlignment="Stretch">
            
            <!-- Optimize Button Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,24">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE768;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="ManualOptimizationTitle" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="OptimizeDescription" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" VerticalAlignment="Center">
                        <StackPanel Orientation="Vertical" VerticalAlignment="Center" Margin="0,0,8,0">
                            <ProgressBar x:Name="OptimizeProgressBar" Width="130" IsIndeterminate="False" Visibility="Collapsed" ShowPaused="False" ShowError="False" />
                            <TextBlock x:Name="OptimizeStatusText" FontSize="10" Opacity="0.7" HorizontalAlignment="Center" Visibility="Collapsed" Margin="0,4,0,0"/>
                        </StackPanel>
                        <Button x:Name="OptimizeButton" 
                                MinWidth="80"
                                Click="OptimizeButton_Click"
                                Style="{StaticResource AccentButtonStyle}">
                            <TextBlock x:Name="OptimizeButtonText"/>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Quality Section -->
            <TextBlock x:Name="QualityHeader" Text="Quality Settings" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,12"/>
            
            <!-- JPEG Quality Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="8"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="16"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <FontIcon Grid.Column="0" Glyph="&#xE91B;" FontSize="20" VerticalAlignment="Center"/>
                        
                        <StackPanel Grid.Column="2" VerticalAlignment="Center">
                            <TextBlock x:Name="JpegQualityLabel" Text="JPEG Quality" FontWeight="SemiBold" FontSize="14"/>
                            <TextBlock x:Name="JpegQualityDescription" Text="Higher quality = larger file size" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                        </StackPanel>
                        
                        <TextBlock Grid.Column="3" x:Name="JpegQualityValue" Text="80%" FontSize="14" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    </Grid>
                    
                    <Slider Grid.Row="2" x:Name="JpegQualitySlider" Minimum="60" Maximum="100" Value="80" StepFrequency="5" 
                            TickFrequency="10" TickPlacement="Outside" ValueChanged="JpegQualitySlider_ValueChanged"/>
                </Grid>
            </Border>

            <!-- Performance Section -->
            <TextBlock x:Name="PerformanceHeader" Text="Performance" FontSize="20" FontWeight="SemiBold" Margin="0,24,0,12"/>
            
            <!-- Thread Count Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,24">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="8"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="16"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <FontIcon Grid.Column="0" Glyph="&#xE9F5;" FontSize="20" VerticalAlignment="Center"/>
                        
                        <StackPanel Grid.Column="2" VerticalAlignment="Center">
                            <TextBlock x:Name="ThreadCountLabel" Text="Parallel Threads" FontWeight="SemiBold" FontSize="14"/>
                            <TextBlock x:Name="ThreadCountDescription" Text="More threads = faster processing" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                        </StackPanel>
                        
                        <TextBlock Grid.Column="3" x:Name="ThreadCountValue" Text="4" FontSize="14" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    </Grid>
                    
                    <Slider Grid.Row="2" x:Name="ThreadCountSlider" Minimum="1" Maximum="16" Value="4" StepFrequency="1" 
                            TickFrequency="2" TickPlacement="Outside" ValueChanged="ThreadCountSlider_ValueChanged"/>
                </Grid>
            </Border>

            <!-- Cropping Section -->
            <TextBlock x:Name="CroppingHeader" Text="Cropping" FontSize="20" FontWeight="SemiBold" Margin="0,24,0,12"/>
            
            <!-- Image Crop Type Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE7A8;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="ImageCropTypeLabel" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="ImageCropTypeDescription" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <ComboBox Grid.Column="3" x:Name="ImageCropTypeComboBox" Width="200" SelectionChanged="ImageCropTypeComboBox_SelectionChanged" VerticalAlignment="Center">
                        <ComboBoxItem x:Name="CropTypeCenter" Tag="Center">
                            <TextBlock x:Name="CropTypeCenterText" Text="Center"/>
                        </ComboBoxItem>
                        <ComboBoxItem x:Name="CropTypeSmart" Tag="Smart">
                            <TextBlock x:Name="CropTypeSmartText" Text="Smart"/>
                        </ComboBoxItem>
                        <ComboBoxItem x:Name="CropTypeEntropy" Tag="Entropy">
                            <TextBlock x:Name="CropTypeEntropyText" Text="Entropy"/>
                        </ComboBoxItem>
                        <ComboBoxItem x:Name="CropTypeAttention" Tag="Attention">
                            <TextBlock x:Name="CropTypeAttentionText" Text="Attention"/>
                        </ComboBoxItem>
                    </ComboBox>
                </Grid>
            </Border>
            
            <!-- Preview Before Crop Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="150"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE8B9;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="PreviewBeforeCropLabel" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="PreviewBeforeCropDescription" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Spacing="8">
                        <TextBlock x:Name="PreviewBeforeCropToggleLabel" VerticalAlignment="Center" Opacity="0.8"/>
                        <ToggleSwitch x:Name="PreviewBeforeCropToggle" Toggled="PreviewBeforeCropToggle_Toggled" OnContent="" OffContent="" MinWidth="0"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Auto Create Mod Thumbnails Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,24">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="150"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE8EC;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="AutoCreateModThumbnailsLabel" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="AutoCreateModThumbnailsDescription" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Spacing="8">
                        <TextBlock x:Name="AutoCreateModThumbnailsToggleLabel" VerticalAlignment="Center" Opacity="0.8"/>
                        <ToggleSwitch x:Name="AutoCreateModThumbnailsToggle" Toggled="AutoCreateModThumbnailsToggle_Toggled" OnContent="" OffContent="" MinWidth="0"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Screenshot Capture Section -->
            <TextBlock x:Name="ScreenshotCaptureHeader" Text="Screenshot Capture" FontSize="20" FontWeight="SemiBold" Margin="0,24,0,12"/>
            
            <!-- Screenshot Directory Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,24">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE8B9;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="ScreenshotDirectoryLabel" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="ScreenshotDirectoryDescription" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" VerticalAlignment="Center" Spacing="8">
                        <BreadcrumbBar x:Name="ScreenshotDirectoryBreadcrumb" Width="300" ItemClicked="ScreenshotDirectoryBreadcrumb_ItemClicked"/>
                        <Button x:Name="BrowseScreenshotDirectoryButton" Click="BrowseScreenshotDirectoryButton_Click" Width="32" Height="32" Padding="0" ToolTipService.ToolTip="Browse">
                            <FontIcon Glyph="&#xE838;" FontSize="16"/>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Optimization Modes Section -->
            <TextBlock x:Name="OptimizationModesHeader" FontSize="20" FontWeight="SemiBold" Margin="0,24,0,4"/>
            <TextBlock x:Name="OptimizationModesDescription" TextWrapping="Wrap" FontSize="12" Opacity="0.7" Margin="0,0,0,12"/>
            
            <!-- Manual Mode Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="8"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="16"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <FontIcon Grid.Column="0" Glyph="&#xE70F;" FontSize="20" VerticalAlignment="Center"/>
                        
                        <TextBlock Grid.Column="2" x:Name="ManualModeHeader" Text="Manual Optimization" FontWeight="SemiBold" FontSize="14" VerticalAlignment="Center"/>
                    </Grid>
                    
                    <TextBlock Grid.Row="2" x:Name="ManualModeDescription" TextWrapping="Wrap" FontSize="12" Opacity="0.7"/>
                </Grid>
            </Border>
            
            <!-- Drag & Drop Mod Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="8"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="16"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <FontIcon Grid.Column="0" Glyph="&#xE8B7;" FontSize="20" VerticalAlignment="Center"/>
                        
                        <TextBlock Grid.Column="2" x:Name="DragDropModHeader" Text="Drag &amp; Drop Mod" FontWeight="SemiBold" FontSize="14" VerticalAlignment="Center"/>
                    </Grid>
                    
                    <TextBlock Grid.Row="2" x:Name="DragDropModDescription" TextWrapping="Wrap" FontSize="12" Opacity="0.7"/>
                </Grid>
            </Border>
            
            <!-- Drag & Drop Category Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="8"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="16"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <FontIcon Grid.Column="0" Glyph="&#xE8F1;" FontSize="20" VerticalAlignment="Center"/>
                        
                        <TextBlock Grid.Column="2" x:Name="DragDropCategoryHeader" Text="Drag &amp; Drop Category" FontWeight="SemiBold" FontSize="14" VerticalAlignment="Center"/>
                    </Grid>
                    
                    <TextBlock Grid.Row="2" x:Name="DragDropCategoryDescription" TextWrapping="Wrap" FontSize="12" Opacity="0.7"/>
                </Grid>
            </Border>
            
            <!-- Auto Download Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,24">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="8"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="16"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <FontIcon Grid.Column="0" Glyph="&#xE896;" FontSize="20" VerticalAlignment="Center"/>
                        
                        <TextBlock Grid.Column="2" x:Name="AutoDownloadHeader" Text="Automatic (GameBanana Download)" FontWeight="SemiBold" FontSize="14" VerticalAlignment="Center"/>
                    </Grid>
                    
                    <TextBlock Grid.Row="2" x:Name="AutoDownloadDescription" TextWrapping="Wrap" FontSize="12" Opacity="0.7"/>
                </Grid>
            </Border>

            <!-- Backup & Cleanup Section -->
            <TextBlock x:Name="BackupHeader" Text="Backup &amp; Cleanup" FontSize="20" FontWeight="SemiBold" Margin="0,24,0,12"/>
            
            <!-- Create Backups Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="150"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE8C8;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="CreateBackupsLabel" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="BackupDescription" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Spacing="8">
                        <TextBlock x:Name="CreateBackupsToggleLabel" VerticalAlignment="Center" Opacity="0.8"/>
                        <ToggleSwitch x:Name="CreateBackupsCheckBox" IsOn="False" Toggled="SettingChanged" OnContent="" OffContent="" MinWidth="0"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Keep Originals Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="150"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE74E;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="KeepOriginalsLabel" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="KeepOriginalsDescription" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Spacing="8">
                        <TextBlock x:Name="KeepOriginalsToggleLabel" VerticalAlignment="Center" Opacity="0.8"/>
                        <ToggleSwitch x:Name="KeepOriginalsCheckBox" IsOn="False" Toggled="SettingChanged" OnContent="" OffContent="" MinWidth="0"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Re-optimize Already Optimized Files Card -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="16" 
                    Margin="0,0,0,24">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="150"/>
                    </Grid.ColumnDefinitions>
                    
                    <FontIcon Grid.Column="0" Glyph="&#xE777;" FontSize="20" VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock x:Name="ReoptimizeLabel" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="ReoptimizeDescription" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="3" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Spacing="8">
                        <TextBlock x:Name="ReoptimizeToggleLabel" VerticalAlignment="Center" Opacity="0.8"/>
                        <ToggleSwitch x:Name="ReoptimizeCheckBox" IsOn="False" Toggled="SettingChanged" OnContent="" OffContent="" MinWidth="0"/>
                    </StackPanel>
                </Grid>
            </Border>

            </StackPanel>
        </Grid>
    </ScrollViewer>
</Page>


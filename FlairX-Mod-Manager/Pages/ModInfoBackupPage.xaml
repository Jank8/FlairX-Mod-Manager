<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="FlairX_Mod_Manager.Pages.ModInfoBackupPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="Transparent">

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Padding="24">
        <Grid HorizontalAlignment="Stretch">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="8*" MaxWidth="1000"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="1" Spacing="0" HorizontalAlignment="Stretch">
            
                <!-- Create Backup Card -->
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                        BorderThickness="1" 
                        CornerRadius="8" 
                        Padding="16" 
                        Margin="0,0,0,24">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="16"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="8"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <FontIcon Grid.Column="0" Glyph="&#xEA35;" FontSize="20" VerticalAlignment="Center"/>
                        
                        <StackPanel Grid.Column="2" VerticalAlignment="Center">
                            <TextBlock x:Name="CreateBackupsTitle" FontWeight="SemiBold" FontSize="14"/>
                            <TextBlock x:Name="CreateBackupsDescription" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="3" Orientation="Vertical" VerticalAlignment="Center" Margin="0,0,8,0">
                            <ProgressBar x:Name="CreateBackupsProgressBar" Width="130" IsIndeterminate="True" Visibility="Collapsed" ShowPaused="False" ShowError="False" />
                            <TextBlock x:Name="CreateBackupsStatusText" FontSize="10" Opacity="0.7" HorizontalAlignment="Center" Visibility="Collapsed" Margin="0,4,0,0"/>
                        </StackPanel>
                        
                        <Button Grid.Column="5" x:Name="CreateBackupsButton" 
                                MinWidth="80"
                                Click="CreateBackupsButton_Click"
                                Style="{StaticResource AccentButtonStyle}">
                            <TextBlock x:Name="CreateBackupsText"/>
                        </Button>
                    </Grid>
                </Border>

                <!-- Backups Section -->
                <TextBlock x:Name="BackupsHeader" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,12"/>
                
                <!-- Backup 1 Card -->
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                        BorderThickness="1" 
                        CornerRadius="8" 
                        Padding="16" 
                        Margin="0,0,0,2">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="8"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <Grid Grid.Row="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="16"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="8"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <FontIcon Grid.Column="0" Glyph="&#xE8EB;" FontSize="20" VerticalAlignment="Center"/>
                            
                            <StackPanel Grid.Column="2" VerticalAlignment="Center">
                                <TextBlock x:Name="RestoreBackup1Title" FontWeight="SemiBold" FontSize="14"/>
                                <TextBlock x:Name="Backup1Info" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="3" Orientation="Vertical" VerticalAlignment="Center" Margin="0,0,8,0">
                                <ProgressBar x:Name="RestoreBackup1ProgressBar" Width="130" IsIndeterminate="True" Visibility="Collapsed" ShowPaused="False" ShowError="False" />
                                <TextBlock x:Name="RestoreBackup1StatusText" FontSize="10" Opacity="0.7" HorizontalAlignment="Center" Visibility="Collapsed" Margin="0,4,0,0"/>
                            </StackPanel>
                            
                            <Button Grid.Column="5" x:Name="DeleteBackup1Button" 
                                    Width="40" Height="32" 
                                    Padding="0"
                                    Click="DeleteBackupButton_Click" 
                                    Tag="1" 
                                    VerticalAlignment="Center">
                                <FontIcon Glyph="&#xE74D;" FontSize="16"/>
                            </Button>
                        </Grid>
                        
                        <Button Grid.Row="2" x:Name="RestoreBackup1Button" 
                                HorizontalAlignment="Stretch"
                                Tag="1" 
                                Click="RestoreBackupButton_Click">
                            <TextBlock x:Name="RestoreBackup1Text"/>
                        </Button>
                    </Grid>
                </Border>
                
                <!-- Backup 2 Card -->
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                        BorderThickness="1" 
                        CornerRadius="8" 
                        Padding="16" 
                        Margin="0,0,0,2">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="8"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <Grid Grid.Row="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="16"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="8"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <FontIcon Grid.Column="0" Glyph="&#xE8EB;" FontSize="20" VerticalAlignment="Center"/>
                            
                            <StackPanel Grid.Column="2" VerticalAlignment="Center">
                                <TextBlock x:Name="RestoreBackup2Title" FontWeight="SemiBold" FontSize="14"/>
                                <TextBlock x:Name="Backup2Info" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="3" Orientation="Vertical" VerticalAlignment="Center" Margin="0,0,8,0">
                                <ProgressBar x:Name="RestoreBackup2ProgressBar" Width="130" IsIndeterminate="True" Visibility="Collapsed" ShowPaused="False" ShowError="False" />
                                <TextBlock x:Name="RestoreBackup2StatusText" FontSize="10" Opacity="0.7" HorizontalAlignment="Center" Visibility="Collapsed" Margin="0,4,0,0"/>
                            </StackPanel>
                            
                            <Button Grid.Column="5" x:Name="DeleteBackup2Button" 
                                    Width="40" Height="32" 
                                    Padding="0"
                                    Click="DeleteBackupButton_Click" 
                                    Tag="2" 
                                    VerticalAlignment="Center">
                                <FontIcon Glyph="&#xE74D;" FontSize="16"/>
                            </Button>
                        </Grid>
                        
                        <Button Grid.Row="2" x:Name="RestoreBackup2Button" 
                                HorizontalAlignment="Stretch"
                                Tag="2" 
                                Click="RestoreBackupButton_Click">
                            <TextBlock x:Name="RestoreBackup2Text"/>
                        </Button>
                    </Grid>
                </Border>
                
                <!-- Backup 3 Card -->
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                        BorderThickness="1" 
                        CornerRadius="8" 
                        Padding="16" 
                        Margin="0,0,0,24">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="8"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <Grid Grid.Row="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="16"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="8"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <FontIcon Grid.Column="0" Glyph="&#xE8EB;" FontSize="20" VerticalAlignment="Center"/>
                            
                            <StackPanel Grid.Column="2" VerticalAlignment="Center">
                                <TextBlock x:Name="RestoreBackup3Title" FontWeight="SemiBold" FontSize="14"/>
                                <TextBlock x:Name="Backup3Info" FontSize="12" Opacity="0.7" Margin="0,2,0,0"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="3" Orientation="Vertical" VerticalAlignment="Center" Margin="0,0,8,0">
                                <ProgressBar x:Name="RestoreBackup3ProgressBar" Width="130" IsIndeterminate="True" Visibility="Collapsed" ShowPaused="False" ShowError="False" />
                                <TextBlock x:Name="RestoreBackup3StatusText" FontSize="10" Opacity="0.7" HorizontalAlignment="Center" Visibility="Collapsed" Margin="0,4,0,0"/>
                            </StackPanel>
                            
                            <Button Grid.Column="5" x:Name="DeleteBackup3Button" 
                                    Width="40" Height="32" 
                                    Padding="0"
                                    Click="DeleteBackupButton_Click" 
                                    Tag="3" 
                                    VerticalAlignment="Center">
                                <FontIcon Glyph="&#xE74D;" FontSize="16"/>
                            </Button>
                        </Grid>
                        
                        <Button Grid.Row="2" x:Name="RestoreBackup3Button" 
                                HorizontalAlignment="Stretch"
                                Tag="3" 
                                Click="RestoreBackupButton_Click">
                            <TextBlock x:Name="RestoreBackup3Text"/>
                        </Button>
                    </Grid>
                </Border>

            </StackPanel>
        </Grid>
    </ScrollViewer>
</Page>
